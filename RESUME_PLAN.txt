â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                 RÃ‰SUMÃ‰ EXÃ‰CUTIF - PLAN D'ACTION PROJET                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Date: 26 novembre 2025
ğŸ“Š Ã‰tat actuel: 70 tests unitaires (100% rÃ©ussite)
ğŸ¯ Objectif: ComplÃ©ter spÃ©cifications obligatoires + avancÃ©es

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… RÃ‰ALISÃ‰ (95% des spÃ©cifications base)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Machine Virtuelle       âœ“  VM MIPS complÃ¨te, 38 registres, 5000 mots mÃ©moire
Chargeur ASM           âœ“  RÃ©solution labels, chargement mÃ©moire
Compilateur            âœ“  LISP â†’ MIPS, rÃ©cursion, fibonacci(20) validÃ©
Structures contrÃ´le    âœ“  IF, CASE, COND, LOOP, DOTIMES, WHEN, UNLESS
Variables locales      âœ“  LET (6/6 tests)
OpÃ©rateurs logiques    âœ“  AND, OR, NOT (10/10 tests)
Fonctions math         âœ“  ABS, MAX, MIN (21/21 tests)
Tests                  âœ“  70 tests unitaires (100%)
Organisation projet    âœ“  Structure propre (src/, tests/, docs/)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸ Ã€ FAIRE (3 phases restantes)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 8: CORRECTION LABELS (Static Link)                               â”‚
â”‚ DurÃ©e: 3-5h | ComplexitÃ©: â˜…â˜…â˜…â˜…â˜† | PrioritÃ©: HAUTE                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ProblÃ¨me actuel:
  â€¢ Test 5 closures Ã©choue (retourne 27 au lieu de 12)
  â€¢ Appels entre fonctions siblings passent mauvais static link
  â€¢ Fonctions locales ne partagent pas environnement parent

Solution:
  1. Analyse problÃ¨me static link ($S0)         [30 min]
  2. StratÃ©gie correction                       [30 min]
  3. ImplÃ©mentation compile-call/compile-labels [2h]
  4. Tests et validation                        [1h]

Fichiers Ã  modifier:
  â€¢ src/compiler.lisp (compile-labels, compile-call)

CritÃ¨re succÃ¨s:
  âœ“ Test 5 retourne 12
  âœ“ 70+ tests passent toujours
  âœ“ Pas de rÃ©gression

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 9: CLOSURES (Fermetures)                                         â”‚
â”‚ DurÃ©e: 20-30h | ComplexitÃ©: â˜…â˜…â˜…â˜…â˜… | PrioritÃ©: MOYENNE                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SpÃ©cification: "fermetures"

TÃ¢ches principales:
  1. Conception thÃ©orique closures               [3-4h]
  2. Extension VM - Tas dynamique                [5-6h]
     - Nouvelles instructions: MALLOC, LOAD-HEAP, STORE-HEAP
     - Zone tas: [1000-2999]
  3. Analyse variables libres                    [4-5h]
  4. Compilation closures (LAMBDA)               [6-8h]
  5. Tests validation                            [2-3h]

FonctionnalitÃ©s:
  â€¢ (lambda (x) (lambda (y) (+ x y)))
  â€¢ Capture de variables
  â€¢ Closures imbriquÃ©es
  â€¢ Modification Ã©tat capturÃ©

CritÃ¨re succÃ¨s:
  âœ“ 10+ nouveaux tests closures passent
  âœ“ Lambda expressions fonctionnent
  âœ“ Tas dynamique opÃ©rationnel

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 10: BOOTSTRAP (Auto-compilation)                                 â”‚
â”‚ DurÃ©e: 15-20h | ComplexitÃ©: â˜…â˜…â˜…â˜…â˜… | PrioritÃ©: BASSE (bonus)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SpÃ©cification (ajout avancÃ©):
  "compiler la vm avec le compilateur"
  "charger la vm compilÃ©e dans la premiÃ¨re vm"
  "charger fibo(10) dans la seconde vm"

TÃ¢ches principales:
  1. PrÃ©paration compilateur self-contained      [4-5h]
  2. Compilation du chargeur                     [3-4h]
  3. Compilation de la VM                        [4-5h]
  4. Test bootstrap complet                      [2-3h]
  5. Auto-compilation compilateur                [2-3h]

Architecture:
  VMâ‚€ (LISP natif)
    â””â”€â”€ VMâ‚ (compilÃ©e)
         â””â”€â”€ fibonacci(10)

Mesures attendues:
  â€¢ VMâ‚€: ~0.001s pour fib(10)
  â€¢ VMâ‚: ~0.5-1s pour fib(10)
  â€¢ VMâ‚ est 500-1000x plus lente (normal pour interprÃ©tation)

CritÃ¨re succÃ¨s:
  âœ“ VMâ‚ exÃ©cute fibonacci(10) correctement
  âœ“ Compilateur se compile lui-mÃªme
  âœ“ Mesures de performance documentÃ©es

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â±ï¸ ESTIMATION TEMPORELLE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Phase 8:  3-5h     (correction bug LABELS)
Phase 9:  20-30h   (closures complÃ¨tes)
Phase 10: 15-20h   (bootstrap - optionnel)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TOTAL:    38-55h

Rythmes possibles:
  â€¢ 4h/semaine  â†’ 10-14 semaines (2,5-3,5 mois)
  â€¢ 8h/semaine  â†’ 5-7 semaines (1-2 mois)
  â€¢ 20h/semaine â†’ 2-3 semaines

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ RECOMMANDATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OPTION A - Validation Rapide (recommandÃ©e si peu de temps)
  1. Phase 8 uniquement (3-5h)
  2. CrÃ©er rapport final
  3. DÃ©montrer: 98% spÃ©cifications couvertes
  â†’ Projet trÃ¨s complet et fonctionnel

OPTION B - ComplÃ©tude Totale (recommandÃ©e si temps disponible)
  1. Phase 8 (correction LABELS)
  2. Phase 9 (closures)
  3. Phase 10 (bootstrap - optionnel)
  â†’ Projet 100% complet + dÃ©monstration avancÃ©e

OPTION C - Ã‰tat Actuel
  1. CrÃ©er rapport maintenant
  2. Documenter 95% rÃ©alisÃ©
  3. Expliquer ce qui reste
  â†’ Acceptable, projet dÃ©jÃ  trÃ¨s avancÃ©

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š MÃ‰TRIQUES PROGRESSION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    ACTUEL   APRÃˆS P8  APRÃˆS P9  APRÃˆS P10
Tests unitaires     70       71+       85+       100+
Specs obligatoires  90%      95%       100%      100%
Specs avancÃ©es      0%       0%        0%        100%
Valeur pÃ©dagogique  70%      75%       90%       100%

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ DÃ‰MARRAGE IMMÃ‰DIAT (PHASE 8)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Pour commencer tout de suite:

1. Lire le problÃ¨me:
   $ clisp -q -x "(load \"main.lisp\") \
     (compile-and-run '(labels ((outer (x) \
       (labels ((mult (n) (* x n)) \
                (twice (n) (mult (mult n)))) \
         (twice 3)))) (outer 2)))"
   
   RÃ©sultat actuel: 27
   RÃ©sultat attendu: 12

2. Identifier la cause:
   - Ouvrir: src/compiler.lisp
   - Chercher: compile-labels, compile-call
   - Analyser: Passage du static link ($S0)

3. Corriger:
   - Modifier compile-call pour distinguer appels locaux/globaux
   - Si sibling: passer $S0 tel quel
   - Si global: passer $FP

4. Valider:
   $ ./run-unit-tests.sh
   
   SuccÃ¨s si: 71/71 tests passent (100%)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ FICHIERS UTILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Plan dÃ©taillÃ© complet: PLAN_ACTION_COMPLET.md (ce document)
Ã‰tat projet:           docs/STATUT_PROJET.txt
SpÃ©cifications:        docs/Ressource_externe/SpecificationProjet.txt
Tests:                 tests/unit/*.lisp
RÃ©sultats tests:       test-results.log

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… CONCLUSION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ã‰tat actuel du projet:
  âœ“ 95% des fonctionnalitÃ©s base implÃ©mentÃ©es
  âœ“ 70 tests unitaires passent (100%)
  âœ“ Structure propre et organisÃ©e
  âœ“ Documentation complÃ¨te

Ce qui reste:
  âš ï¸ Bug LABELS (Phase 8) - 3-5h - PRIORITÃ‰ HAUTE
  âš ï¸ Closures (Phase 9) - 20-30h - SpÃ©cification obligatoire
  âš ï¸ Bootstrap (Phase 10) - 15-20h - Ajout avancÃ© optionnel

Le projet est dÃ©jÃ  trÃ¨s avancÃ© et fonctionnel. La Phase 8 (3-5h) suffit
pour avoir un projet quasi-complet (98%). Les Phases 9-10 sont pour aller
vers la perfection absolue (100%).

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
